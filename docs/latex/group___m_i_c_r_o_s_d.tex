\hypertarget{group___m_i_c_r_o_s_d}{}\doxysection{Micro\+SD Driver}
\label{group___m_i_c_r_o_s_d}\index{MicroSD Driver@{MicroSD Driver}}


S\+PI Micro\+SD driver with Fat\+FS support.  


\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structmicrosd__t}{microsd\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Struct with common file info. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structmicrosd__fsm__t}{microsd\+\_\+fsm\+\_\+t}}
\begin{DoxyCompactList}\small\item\em F\+SM struct. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga9e3a116409286b1b3c505155c685f488}\label{group___m_i_c_r_o_s_d_ga9e3a116409286b1b3c505155c685f488}} 
\#define {\bfseries M\+I\+C\+R\+O\+S\+D\+\_\+\+W\+R\+I\+T\+E\+\_\+\+F\+I\+LE}~1
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_gab58ea348d860430dc25e998395c55a82}\label{group___m_i_c_r_o_s_d_gab58ea348d860430dc25e998395c55a82}} 
\#define {\bfseries M\+I\+C\+R\+O\+S\+D\+\_\+\+O\+P\+E\+N\+\_\+\+F\+I\+LE}~2
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_gabed728f2565045845546c9e44df23d97}\label{group___m_i_c_r_o_s_d_gabed728f2565045845546c9e44df23d97}} 
\#define {\bfseries M\+I\+C\+R\+O\+S\+D\+\_\+\+C\+L\+O\+S\+E\+\_\+\+F\+I\+LE}~3
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga72166ad219a35ce1462ee3e4f044d6b1}\label{group___m_i_c_r_o_s_d_ga72166ad219a35ce1462ee3e4f044d6b1}} 
\#define {\bfseries M\+I\+C\+R\+O\+S\+D\+\_\+\+S\+C\+A\+N\+\_\+\+F\+I\+L\+ES}~4
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga1eb4544272a6d5b7737bcaa02451dcf1}\label{group___m_i_c_r_o_s_d_ga1eb4544272a6d5b7737bcaa02451dcf1}} 
\#define {\bfseries M\+I\+C\+R\+O\+S\+D\+\_\+\+M\+O\+U\+N\+T\+\_\+\+FS}~5
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga0b579b3763ce179b2c81385c6e1dfdc0}\label{group___m_i_c_r_o_s_d_ga0b579b3763ce179b2c81385c6e1dfdc0}} 
\#define {\bfseries M\+I\+C\+R\+O\+S\+D\+\_\+\+S\+H\+O\+W\+\_\+\+T\+R\+EE}~6
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga97876960180b23b39ff148b19cd4b048}\label{group___m_i_c_r_o_s_d_ga97876960180b23b39ff148b19cd4b048}} 
\#define {\bfseries M\+I\+C\+R\+O\+S\+D\+\_\+\+S\+H\+O\+W\+\_\+\+F\+R\+EE}~7
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_gab27220bd2a573c009afe822fcfd2d6c8}\label{group___m_i_c_r_o_s_d_gab27220bd2a573c009afe822fcfd2d6c8}} 
\#define {\bfseries M\+I\+C\+R\+O\+S\+D\+\_\+\+W\+R\+I\+T\+E\+\_\+\+S\+E\+N\+S\+O\+R\+\_\+\+L\+O\+G\+\_\+\+L\+I\+NE}~8
\item 
\#define \mbox{\hyperlink{group___m_i_c_r_o_s_d_ga767109abe4fcbcafb6dbc6960cd0c59c}{M\+I\+C\+R\+O\+S\+D\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+S\+T\+A\+TE}}~\mbox{\hyperlink{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a0bcb3ea6b8d69bca8dc10e8a10ce2275}{M\+I\+C\+R\+O\+S\+D\+\_\+\+W\+R\+I\+T\+E\+\_\+\+L\+OG}}
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{group___m_i_c_r_o_s_d_gaa135e1d2d101b56a3df19fec57ac7e19}{microsd\+\_\+commands}} \{ \newline
\mbox{\hyperlink{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a1f6ac97f1be9362570fff80b46ef432d}{M\+I\+C\+R\+O\+S\+D\+\_\+\+N\+O\+NE}} = 0, 
\mbox{\hyperlink{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a85ba1d3aedf8d1b212fd04661875a8ba}{M\+I\+C\+R\+O\+S\+D\+\_\+\+M\+K\+FS}}, 
\mbox{\hyperlink{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a987d42d407bab100eecdd9b1ca1bb540}{M\+I\+C\+R\+O\+S\+D\+\_\+\+T\+R\+EE}}, 
\mbox{\hyperlink{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a06f44b5650ff5e2924d3ca957ce6a0f2}{M\+I\+C\+R\+O\+S\+D\+\_\+\+M\+O\+U\+NT}}, 
\newline
\mbox{\hyperlink{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19ad95ad51cacb36d94d30cb2056757350f}{M\+I\+C\+R\+O\+S\+D\+\_\+\+LS}}, 
\mbox{\hyperlink{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a8c9049907803b115405c2e4ffb46c373}{M\+I\+C\+R\+O\+S\+D\+\_\+\+C\+AT}}, 
\mbox{\hyperlink{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a0bcb3ea6b8d69bca8dc10e8a10ce2275}{M\+I\+C\+R\+O\+S\+D\+\_\+\+W\+R\+I\+T\+E\+\_\+\+L\+OG}}, 
\mbox{\hyperlink{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19ab8e6f732a86ec3336694fd0960b4d9dc}{M\+I\+C\+R\+O\+S\+D\+\_\+\+U\+P\+D\+A\+T\+E\+\_\+\+C\+A\+L\+I\+B\+F\+I\+LE}}, 
\newline
\mbox{\hyperlink{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a6b7da89823b2b2642ca28cef0e406ea3}{M\+I\+C\+R\+O\+S\+D\+\_\+\+R\+E\+M\+O\+VE}}, 
\mbox{\hyperlink{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a4d6bc145535240b00db483ffc923881d}{M\+I\+C\+R\+O\+S\+D\+\_\+\+F\+R\+EE}}
 \}
\begin{DoxyCompactList}\small\item\em States for F\+SM. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga440747f7b208a30f145de4ca64e3753e}\label{group___m_i_c_r_o_s_d_ga440747f7b208a30f145de4ca64e3753e}} 
void {\bfseries cmd\+\_\+open} (Base\+Sequential\+Stream $\ast$chp, int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_gadfee1406bc4f33392189144d84147a32}\label{group___m_i_c_r_o_s_d_gadfee1406bc4f33392189144d84147a32}} 
void {\bfseries microsd\+\_\+update\+\_\+calibfile} (void)
\item 
void \mbox{\hyperlink{group___m_i_c_r_o_s_d_ga0943ae9d80c89a56334a551f3d6d8783}{cmd\+\_\+tree}} (Base\+Sequential\+Stream $\ast$chp, int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Print file tree. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___m_i_c_r_o_s_d_ga1c40153534e1689582908a7adf1f1317}{microsd\+\_\+show\+\_\+tree}} (Base\+Sequential\+Stream $\ast$chp)
\begin{DoxyCompactList}\small\item\em Print file tree. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___m_i_c_r_o_s_d_ga891b0c0cd9e14f01f55c3a2fecf275e8}{cmd\+\_\+mount}} (Base\+Sequential\+Stream $\ast$chp, int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Manual mount SD card. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___m_i_c_r_o_s_d_ga92b217498fb153fb9dca066be26d31cf}{cmd\+\_\+remove}} (Base\+Sequential\+Stream $\ast$chp, int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Deleting file from SD card. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___m_i_c_r_o_s_d_ga9b8cf10979eb90f7390a99824cfd32f1}{cmd\+\_\+free}} (Base\+Sequential\+Stream $\ast$chp, int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Print available space. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___m_i_c_r_o_s_d_ga76f0d1248f34ab7d8253a942b190e4e3}{cmd\+\_\+write}} (Base\+Sequential\+Stream $\ast$chp, int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Write. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___m_i_c_r_o_s_d_gaa449ffd63cf92fe88d29df0dd4473b5b}{cmd\+\_\+mkfs}} (Base\+Sequential\+Stream $\ast$chp, int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Format SD card. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___m_i_c_r_o_s_d_gaa8125f387447a60fef51ea165e88bc85}{cmd\+\_\+cat}} (Base\+Sequential\+Stream $\ast$chp, int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Same as tree. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_gaea5381e7f1947dc028b0880a0545c05d}\label{group___m_i_c_r_o_s_d_gaea5381e7f1947dc028b0880a0545c05d}} 
void \mbox{\hyperlink{group___m_i_c_r_o_s_d_gaea5381e7f1947dc028b0880a0545c05d}{start\+\_\+microsd\+\_\+module}} (void)
\begin{DoxyCompactList}\small\item\em Start Micro\+SD threads. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___m_i_c_r_o_s_d_ga5ba4fe4ebcabd87b1d1fd3c6413c1ae5}{fsm\+\_\+from\+\_\+ls}} (uint8\+\_\+t new\+\_\+state)
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga9861fc5e9d79a68b47c8a19e01b00bc1}\label{group___m_i_c_r_o_s_d_ga9861fc5e9d79a68b47c8a19e01b00bc1}} 
void {\bfseries fsm\+\_\+switch\+\_\+to\+\_\+default\+\_\+state} (void)
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_gaef4ce4905dfd8b1bad9b7dd01529e45f}\label{group___m_i_c_r_o_s_d_gaef4ce4905dfd8b1bad9b7dd01529e45f}} 
void {\bfseries fsm\+\_\+change\+\_\+state} (uint8\+\_\+t state)
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga116de48993c5e549c14d393dce8cefae}\label{group___m_i_c_r_o_s_d_ga116de48993c5e549c14d393dce8cefae}} 
void {\bfseries fsm\+\_\+new\+\_\+state} (uint8\+\_\+t state)
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga98681345709ff86c37e463e4074c9fe6}\label{group___m_i_c_r_o_s_d_ga98681345709ff86c37e463e4074c9fe6}} 
void {\bfseries fsm\+\_\+from\+\_\+writing} (uint8\+\_\+t new\+\_\+state)
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga3cde149578216a44feec6d6fd6e71289}\label{group___m_i_c_r_o_s_d_ga3cde149578216a44feec6d6fd6e71289}} 
void {\bfseries fsm\+\_\+from\+\_\+none} (uint8\+\_\+t new\+\_\+state)
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga430f10f108ae8e4a6762733e4f5c8027}\label{group___m_i_c_r_o_s_d_ga430f10f108ae8e4a6762733e4f5c8027}} 
void {\bfseries fsm\+\_\+from\+\_\+mount} (uint8\+\_\+t new\+\_\+state)
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga21d8c89442c6b5743e4c28501fcae447}\label{group___m_i_c_r_o_s_d_ga21d8c89442c6b5743e4c28501fcae447}} 
void {\bfseries fsm\+\_\+from\+\_\+free} (uint8\+\_\+t new\+\_\+state)
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga2088b8c26b02a98442a91c48a48afb25}\label{group___m_i_c_r_o_s_d_ga2088b8c26b02a98442a91c48a48afb25}} 
void {\bfseries fsm\+\_\+from\+\_\+cat} (uint8\+\_\+t new\+\_\+state)
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_gaf4968bcea20ff130de91d7195a0a5690}\label{group___m_i_c_r_o_s_d_gaf4968bcea20ff130de91d7195a0a5690}} 
void {\bfseries fsm\+\_\+from\+\_\+mkfs} (uint8\+\_\+t new\+\_\+state)
\item 
uint8\+\_\+t \mbox{\hyperlink{group___m_i_c_r_o_s_d_gaffa36144b645b0cb0ad24d6141f77cc3}{fs\+\_\+create\+\_\+new\+\_\+log}} (void)
\begin{DoxyCompactList}\small\item\em Creates new logfile. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group___m_i_c_r_o_s_d_gad8f101aa1db7f383622dcfe6aff3e4c7}{fs\+\_\+write\+\_\+file\+\_\+header}} (void)
\begin{DoxyCompactList}\small\item\em Writes csv header to file. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group___m_i_c_r_o_s_d_ga98306623ec44a04561ac47a43ca52136}{fs\+\_\+write\+\_\+line}} (void)
\begin{DoxyCompactList}\small\item\em Writes sensors data to file. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group___m_i_c_r_o_s_d_ga41b5e422269547751fa823e35db6c775}{fs\+\_\+check\+\_\+space}} (void)
\begin{DoxyCompactList}\small\item\em Check and print available space on SD card. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group___m_i_c_r_o_s_d_ga1f0b47730c85a55f2050c3c7c199db9d}{fs\+\_\+close\+\_\+log}} (void)
\begin{DoxyCompactList}\small\item\em Close the logfile. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group___m_i_c_r_o_s_d_ga6f60e50c84d3aaa72065f9278e7df386}{fs\+\_\+continue\+\_\+log}} (void)
\begin{DoxyCompactList}\small\item\em Open logfile without writing header line. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga11672033f8e2ce89761cf3490a2c9962}\label{group___m_i_c_r_o_s_d_ga11672033f8e2ce89761cf3490a2c9962}} 
uint8\+\_\+t {\bfseries path\+\_\+to\+\_\+file} \mbox{[}128\mbox{]}
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga102b62b519a9ab1d569c2cd901a4889a}\label{group___m_i_c_r_o_s_d_ga102b62b519a9ab1d569c2cd901a4889a}} 
uint8\+\_\+t {\bfseries file\+\_\+created}
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_gaadeef48a72ae62382cd325fb783a308c}\label{group___m_i_c_r_o_s_d_gaadeef48a72ae62382cd325fb783a308c}} 
uint8\+\_\+t {\bfseries change\+\_\+req}
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga6181c1c0ef0b9cf923e70e001e609f03}\label{group___m_i_c_r_o_s_d_ga6181c1c0ef0b9cf923e70e001e609f03}} 
uint8\+\_\+t {\bfseries state\+\_\+curr}
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga9fbd6a0923f9fe84d7c2fe7b92711ee2}\label{group___m_i_c_r_o_s_d_ga9fbd6a0923f9fe84d7c2fe7b92711ee2}} 
uint8\+\_\+t {\bfseries state\+\_\+prev}
\item 
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga336f1d9b10fbb6d6579cff2e82172408}\label{group___m_i_c_r_o_s_d_ga336f1d9b10fbb6d6579cff2e82172408}} 
uint8\+\_\+t {\bfseries state\+\_\+new}
\item 
static uint8\+\_\+t \mbox{\hyperlink{group___m_i_c_r_o_s_d_ga288c3649afc31b2806d01b2e81bd0287}{path\+\_\+to\+\_\+file}} \mbox{[}32\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
S\+PI Micro\+SD driver with Fat\+FS support. 

Detail will be writen soon \begin{DoxyPrecond}{Precondition}
In order to use the A\+DC driver the {\ttfamily U\+S\+E\+\_\+\+M\+I\+C\+R\+O\+S\+D\+\_\+\+M\+O\+D\+U\+LE} option must be enabled in {\ttfamily config.\+h}.
\end{DoxyPrecond}
\hypertarget{group___m_i_c_r_o_s_d_microsd_1}{}\doxysubsection{Stateflow}\label{group___m_i_c_r_o_s_d_microsd_1}
The driver implements a state machine internally, not all the driver functionalities can be used in any moment, any transition not explicitly shown in the following diagram has to be considered an error and shall be captured by an assertion (if enabled). 
\begin{DoxyImageNoCaption}
  \mbox{\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{dot_inline_dotgraph_9}}
\end{DoxyImageNoCaption}
\hypertarget{group___m_i_c_r_o_s_d_microsd_2}{}\doxysubsection{Fat\+F\+S operations}\label{group___m_i_c_r_o_s_d_microsd_2}
The A\+DC driver is quite complex, an explanation of the terminology and of the operational details follows. 

\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga767109abe4fcbcafb6dbc6960cd0c59c}\label{group___m_i_c_r_o_s_d_ga767109abe4fcbcafb6dbc6960cd0c59c}} 
\index{MicroSD Driver@{MicroSD Driver}!MICROSD\_DEFAULT\_STATE@{MICROSD\_DEFAULT\_STATE}}
\index{MICROSD\_DEFAULT\_STATE@{MICROSD\_DEFAULT\_STATE}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{MICROSD\_DEFAULT\_STATE}{MICROSD\_DEFAULT\_STATE}}
{\footnotesize\ttfamily \#define M\+I\+C\+R\+O\+S\+D\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+S\+T\+A\+TE~\mbox{\hyperlink{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a0bcb3ea6b8d69bca8dc10e8a10ce2275}{M\+I\+C\+R\+O\+S\+D\+\_\+\+W\+R\+I\+T\+E\+\_\+\+L\+OG}}}

Default F\+Sm state 

\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_gaa135e1d2d101b56a3df19fec57ac7e19}\label{group___m_i_c_r_o_s_d_gaa135e1d2d101b56a3df19fec57ac7e19}} 
\index{MicroSD Driver@{MicroSD Driver}!microsd\_commands@{microsd\_commands}}
\index{microsd\_commands@{microsd\_commands}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{microsd\_commands}{microsd\_commands}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{group___m_i_c_r_o_s_d_gaa135e1d2d101b56a3df19fec57ac7e19}{microsd\+\_\+commands}}}



States for F\+SM. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{MICROSD\_NONE@{MICROSD\_NONE}!MicroSD Driver@{MicroSD Driver}}\index{MicroSD Driver@{MicroSD Driver}!MICROSD\_NONE@{MICROSD\_NONE}}}\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a1f6ac97f1be9362570fff80b46ef432d}\label{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a1f6ac97f1be9362570fff80b46ef432d}} 
M\+I\+C\+R\+O\+S\+D\+\_\+\+N\+O\+NE&M\+I\+C\+R\+O\+S\+D\+\_\+\+N\+O\+NE. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{MICROSD\_MKFS@{MICROSD\_MKFS}!MicroSD Driver@{MicroSD Driver}}\index{MicroSD Driver@{MicroSD Driver}!MICROSD\_MKFS@{MICROSD\_MKFS}}}\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a85ba1d3aedf8d1b212fd04661875a8ba}\label{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a85ba1d3aedf8d1b212fd04661875a8ba}} 
M\+I\+C\+R\+O\+S\+D\+\_\+\+M\+K\+FS&M\+I\+C\+R\+O\+S\+D\+\_\+\+M\+K\+FS. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{MICROSD\_TREE@{MICROSD\_TREE}!MicroSD Driver@{MicroSD Driver}}\index{MicroSD Driver@{MicroSD Driver}!MICROSD\_TREE@{MICROSD\_TREE}}}\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a987d42d407bab100eecdd9b1ca1bb540}\label{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a987d42d407bab100eecdd9b1ca1bb540}} 
M\+I\+C\+R\+O\+S\+D\+\_\+\+T\+R\+EE&M\+I\+C\+R\+O\+S\+D\+\_\+\+T\+R\+EE. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{MICROSD\_MOUNT@{MICROSD\_MOUNT}!MicroSD Driver@{MicroSD Driver}}\index{MicroSD Driver@{MicroSD Driver}!MICROSD\_MOUNT@{MICROSD\_MOUNT}}}\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a06f44b5650ff5e2924d3ca957ce6a0f2}\label{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a06f44b5650ff5e2924d3ca957ce6a0f2}} 
M\+I\+C\+R\+O\+S\+D\+\_\+\+M\+O\+U\+NT&M\+I\+C\+R\+O\+S\+D\+\_\+\+M\+O\+U\+NT. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{MICROSD\_LS@{MICROSD\_LS}!MicroSD Driver@{MicroSD Driver}}\index{MicroSD Driver@{MicroSD Driver}!MICROSD\_LS@{MICROSD\_LS}}}\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19ad95ad51cacb36d94d30cb2056757350f}\label{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19ad95ad51cacb36d94d30cb2056757350f}} 
M\+I\+C\+R\+O\+S\+D\+\_\+\+LS&M\+I\+C\+R\+O\+S\+D\+\_\+\+LS. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{MICROSD\_CAT@{MICROSD\_CAT}!MicroSD Driver@{MicroSD Driver}}\index{MicroSD Driver@{MicroSD Driver}!MICROSD\_CAT@{MICROSD\_CAT}}}\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a8c9049907803b115405c2e4ffb46c373}\label{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a8c9049907803b115405c2e4ffb46c373}} 
M\+I\+C\+R\+O\+S\+D\+\_\+\+C\+AT&M\+I\+C\+R\+O\+S\+D\+\_\+\+C\+AT. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{MICROSD\_WRITE\_LOG@{MICROSD\_WRITE\_LOG}!MicroSD Driver@{MicroSD Driver}}\index{MicroSD Driver@{MicroSD Driver}!MICROSD\_WRITE\_LOG@{MICROSD\_WRITE\_LOG}}}\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a0bcb3ea6b8d69bca8dc10e8a10ce2275}\label{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a0bcb3ea6b8d69bca8dc10e8a10ce2275}} 
M\+I\+C\+R\+O\+S\+D\+\_\+\+W\+R\+I\+T\+E\+\_\+\+L\+OG&M\+I\+C\+R\+O\+S\+D\+\_\+\+W\+R\+I\+T\+E\+\_\+\+L\+OG. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{MICROSD\_UPDATE\_CALIBFILE@{MICROSD\_UPDATE\_CALIBFILE}!MicroSD Driver@{MicroSD Driver}}\index{MicroSD Driver@{MicroSD Driver}!MICROSD\_UPDATE\_CALIBFILE@{MICROSD\_UPDATE\_CALIBFILE}}}\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19ab8e6f732a86ec3336694fd0960b4d9dc}\label{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19ab8e6f732a86ec3336694fd0960b4d9dc}} 
M\+I\+C\+R\+O\+S\+D\+\_\+\+U\+P\+D\+A\+T\+E\+\_\+\+C\+A\+L\+I\+B\+F\+I\+LE&M\+I\+C\+R\+O\+S\+D\+\_\+\+U\+P\+D\+A\+T\+E\+\_\+\+C\+A\+L\+I\+B\+F\+I\+LE. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{MICROSD\_REMOVE@{MICROSD\_REMOVE}!MicroSD Driver@{MicroSD Driver}}\index{MicroSD Driver@{MicroSD Driver}!MICROSD\_REMOVE@{MICROSD\_REMOVE}}}\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a6b7da89823b2b2642ca28cef0e406ea3}\label{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a6b7da89823b2b2642ca28cef0e406ea3}} 
M\+I\+C\+R\+O\+S\+D\+\_\+\+R\+E\+M\+O\+VE&M\+I\+C\+R\+O\+S\+D\+\_\+\+R\+E\+M\+O\+VE. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{MICROSD\_FREE@{MICROSD\_FREE}!MicroSD Driver@{MicroSD Driver}}\index{MicroSD Driver@{MicroSD Driver}!MICROSD\_FREE@{MICROSD\_FREE}}}\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a4d6bc145535240b00db483ffc923881d}\label{group___m_i_c_r_o_s_d_ggaa135e1d2d101b56a3df19fec57ac7e19a4d6bc145535240b00db483ffc923881d}} 
M\+I\+C\+R\+O\+S\+D\+\_\+\+F\+R\+EE&M\+I\+C\+R\+O\+S\+D\+\_\+\+F\+R\+EE. \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_gaa8125f387447a60fef51ea165e88bc85}\label{group___m_i_c_r_o_s_d_gaa8125f387447a60fef51ea165e88bc85}} 
\index{MicroSD Driver@{MicroSD Driver}!cmd\_cat@{cmd\_cat}}
\index{cmd\_cat@{cmd\_cat}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{cmd\_cat()}{cmd\_cat()}}
{\footnotesize\ttfamily void cmd\+\_\+cat (\begin{DoxyParamCaption}\item[{Base\+Sequential\+Stream $\ast$}]{chp,  }\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Same as tree. 


\begin{DoxyParams}{Parameters}
{\em chp} & Print output stream \\
\hline
{\em argc} & Num of input arguments \\
\hline
{\em argv} & Arguments vector \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga9b8cf10979eb90f7390a99824cfd32f1}\label{group___m_i_c_r_o_s_d_ga9b8cf10979eb90f7390a99824cfd32f1}} 
\index{MicroSD Driver@{MicroSD Driver}!cmd\_free@{cmd\_free}}
\index{cmd\_free@{cmd\_free}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{cmd\_free()}{cmd\_free()}}
{\footnotesize\ttfamily void cmd\+\_\+free (\begin{DoxyParamCaption}\item[{Base\+Sequential\+Stream $\ast$}]{chp,  }\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Print available space. 


\begin{DoxyParams}{Parameters}
{\em chp} & Print output stream \\
\hline
{\em argc} & Num of input arguments \\
\hline
{\em argv} & Arguments vector \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_gaa449ffd63cf92fe88d29df0dd4473b5b}\label{group___m_i_c_r_o_s_d_gaa449ffd63cf92fe88d29df0dd4473b5b}} 
\index{MicroSD Driver@{MicroSD Driver}!cmd\_mkfs@{cmd\_mkfs}}
\index{cmd\_mkfs@{cmd\_mkfs}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{cmd\_mkfs()}{cmd\_mkfs()}}
{\footnotesize\ttfamily void cmd\+\_\+mkfs (\begin{DoxyParamCaption}\item[{Base\+Sequential\+Stream $\ast$}]{chp,  }\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Format SD card. 


\begin{DoxyParams}{Parameters}
{\em chp} & Print output stream \\
\hline
{\em argc} & Num of input arguments \\
\hline
{\em argv} & Arguments vector \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga891b0c0cd9e14f01f55c3a2fecf275e8}\label{group___m_i_c_r_o_s_d_ga891b0c0cd9e14f01f55c3a2fecf275e8}} 
\index{MicroSD Driver@{MicroSD Driver}!cmd\_mount@{cmd\_mount}}
\index{cmd\_mount@{cmd\_mount}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{cmd\_mount()}{cmd\_mount()}}
{\footnotesize\ttfamily void cmd\+\_\+mount (\begin{DoxyParamCaption}\item[{Base\+Sequential\+Stream $\ast$}]{chp,  }\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Manual mount SD card. 


\begin{DoxyParams}{Parameters}
{\em chp} & Print output stream \\
\hline
{\em argc} & Num of input arguments \\
\hline
{\em argv} & Arguments vector \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga92b217498fb153fb9dca066be26d31cf}\label{group___m_i_c_r_o_s_d_ga92b217498fb153fb9dca066be26d31cf}} 
\index{MicroSD Driver@{MicroSD Driver}!cmd\_remove@{cmd\_remove}}
\index{cmd\_remove@{cmd\_remove}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{cmd\_remove()}{cmd\_remove()}}
{\footnotesize\ttfamily void cmd\+\_\+remove (\begin{DoxyParamCaption}\item[{Base\+Sequential\+Stream $\ast$}]{chp,  }\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Deleting file from SD card. 


\begin{DoxyParams}{Parameters}
{\em chp} & Print output stream \\
\hline
{\em argc} & Num of input arguments \\
\hline
{\em argv} & Arguments vector \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga0943ae9d80c89a56334a551f3d6d8783}\label{group___m_i_c_r_o_s_d_ga0943ae9d80c89a56334a551f3d6d8783}} 
\index{MicroSD Driver@{MicroSD Driver}!cmd\_tree@{cmd\_tree}}
\index{cmd\_tree@{cmd\_tree}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{cmd\_tree()}{cmd\_tree()}}
{\footnotesize\ttfamily void cmd\+\_\+tree (\begin{DoxyParamCaption}\item[{Base\+Sequential\+Stream $\ast$}]{chp,  }\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Print file tree. 


\begin{DoxyParams}{Parameters}
{\em chp} & Print output stream \\
\hline
{\em argc} & Num of input arguments \\
\hline
{\em argv} & Arguments vector \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga76f0d1248f34ab7d8253a942b190e4e3}\label{group___m_i_c_r_o_s_d_ga76f0d1248f34ab7d8253a942b190e4e3}} 
\index{MicroSD Driver@{MicroSD Driver}!cmd\_write@{cmd\_write}}
\index{cmd\_write@{cmd\_write}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{cmd\_write()}{cmd\_write()}}
{\footnotesize\ttfamily void cmd\+\_\+write (\begin{DoxyParamCaption}\item[{Base\+Sequential\+Stream $\ast$}]{chp,  }\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Write. 


\begin{DoxyParams}{Parameters}
{\em chp} & Print output stream \\
\hline
{\em argc} & Num of input arguments \\
\hline
{\em argv} & Arguments vector \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga41b5e422269547751fa823e35db6c775}\label{group___m_i_c_r_o_s_d_ga41b5e422269547751fa823e35db6c775}} 
\index{MicroSD Driver@{MicroSD Driver}!fs\_check\_space@{fs\_check\_space}}
\index{fs\_check\_space@{fs\_check\_space}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{fs\_check\_space()}{fs\_check\_space()}}
{\footnotesize\ttfamily uint8\+\_\+t fs\+\_\+check\+\_\+space (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Check and print available space on SD card. 

\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga1f0b47730c85a55f2050c3c7c199db9d}\label{group___m_i_c_r_o_s_d_ga1f0b47730c85a55f2050c3c7c199db9d}} 
\index{MicroSD Driver@{MicroSD Driver}!fs\_close\_log@{fs\_close\_log}}
\index{fs\_close\_log@{fs\_close\_log}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{fs\_close\_log()}{fs\_close\_log()}}
{\footnotesize\ttfamily uint8\+\_\+t fs\+\_\+close\+\_\+log (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Close the logfile. 

\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga6f60e50c84d3aaa72065f9278e7df386}\label{group___m_i_c_r_o_s_d_ga6f60e50c84d3aaa72065f9278e7df386}} 
\index{MicroSD Driver@{MicroSD Driver}!fs\_continue\_log@{fs\_continue\_log}}
\index{fs\_continue\_log@{fs\_continue\_log}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{fs\_continue\_log()}{fs\_continue\_log()}}
{\footnotesize\ttfamily uint8\+\_\+t fs\+\_\+continue\+\_\+log (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Open logfile without writing header line. 

\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_gaffa36144b645b0cb0ad24d6141f77cc3}\label{group___m_i_c_r_o_s_d_gaffa36144b645b0cb0ad24d6141f77cc3}} 
\index{MicroSD Driver@{MicroSD Driver}!fs\_create\_new\_log@{fs\_create\_new\_log}}
\index{fs\_create\_new\_log@{fs\_create\_new\_log}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{fs\_create\_new\_log()}{fs\_create\_new\_log()}}
{\footnotesize\ttfamily uint8\+\_\+t fs\+\_\+create\+\_\+new\+\_\+log (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Creates new logfile. 

\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_gad8f101aa1db7f383622dcfe6aff3e4c7}\label{group___m_i_c_r_o_s_d_gad8f101aa1db7f383622dcfe6aff3e4c7}} 
\index{MicroSD Driver@{MicroSD Driver}!fs\_write\_file\_header@{fs\_write\_file\_header}}
\index{fs\_write\_file\_header@{fs\_write\_file\_header}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{fs\_write\_file\_header()}{fs\_write\_file\_header()}}
{\footnotesize\ttfamily uint8\+\_\+t fs\+\_\+write\+\_\+file\+\_\+header (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Writes csv header to file. 

\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga98306623ec44a04561ac47a43ca52136}\label{group___m_i_c_r_o_s_d_ga98306623ec44a04561ac47a43ca52136}} 
\index{MicroSD Driver@{MicroSD Driver}!fs\_write\_line@{fs\_write\_line}}
\index{fs\_write\_line@{fs\_write\_line}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{fs\_write\_line()}{fs\_write\_line()}}
{\footnotesize\ttfamily uint8\+\_\+t fs\+\_\+write\+\_\+line (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Writes sensors data to file. 

\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga5ba4fe4ebcabd87b1d1fd3c6413c1ae5}\label{group___m_i_c_r_o_s_d_ga5ba4fe4ebcabd87b1d1fd3c6413c1ae5}} 
\index{MicroSD Driver@{MicroSD Driver}!fsm\_from\_ls@{fsm\_from\_ls}}
\index{fsm\_from\_ls@{fsm\_from\_ls}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{fsm\_from\_ls()}{fsm\_from\_ls()}}
{\footnotesize\ttfamily void fsm\+\_\+from\+\_\+ls (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{new\+\_\+state }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em new\+\_\+state} & \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga1c40153534e1689582908a7adf1f1317}\label{group___m_i_c_r_o_s_d_ga1c40153534e1689582908a7adf1f1317}} 
\index{MicroSD Driver@{MicroSD Driver}!microsd\_show\_tree@{microsd\_show\_tree}}
\index{microsd\_show\_tree@{microsd\_show\_tree}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{microsd\_show\_tree()}{microsd\_show\_tree()}}
{\footnotesize\ttfamily void microsd\+\_\+show\+\_\+tree (\begin{DoxyParamCaption}\item[{Base\+Sequential\+Stream $\ast$}]{chp }\end{DoxyParamCaption})}



Print file tree. 


\begin{DoxyParams}{Parameters}
{\em chp} & Print output stream \\
\hline
\end{DoxyParams}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{group___m_i_c_r_o_s_d_ga288c3649afc31b2806d01b2e81bd0287}\label{group___m_i_c_r_o_s_d_ga288c3649afc31b2806d01b2e81bd0287}} 
\index{MicroSD Driver@{MicroSD Driver}!path\_to\_file@{path\_to\_file}}
\index{path\_to\_file@{path\_to\_file}!MicroSD Driver@{MicroSD Driver}}
\doxysubsubsection{\texorpdfstring{path\_to\_file}{path\_to\_file}}
{\footnotesize\ttfamily path\+\_\+to\+\_\+file\hspace{0.3cm}{\ttfamily [static]}}

Full path to file 