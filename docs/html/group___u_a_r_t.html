<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SD_Modules: UART Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SD_Modules
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Code modules used in SailData firmwares</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___u_a_r_t.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">UART Driver<div class="ingroups"><a class="el" href="group___i_o.html">Generic</a> &raquo; <a class="el" href="group___h_a_l___n_o_r_m_a_l___d_r_i_v_e_r_s.html">Normal Drivers</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Generic UART Driver.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for UART Driver:</div>
<div class="dyncontent">
<div class="center"><img src="group___u_a_r_t.png" border="0" usemap="#group______u__a__r__t" alt=""/></div>
<map name="group______u__a__r__t" id="group______u__a__r__t">
<area shape="rect" href="group___h_a_l___n_o_r_m_a_l___d_r_i_v_e_r_s.html" title="HAL Normal Drivers." alt="" coords="5,5,116,31"/>
<area shape="rect" title="Generic UART Driver." alt="" coords="164,5,261,31"/>
</map>
</div>
<p>Generic UART Driver. </p>
<p>This driver abstracts a generic UART (Universal Asynchronous Receiver Transmitter) peripheral, the API is designed to be:</p><ul>
<li>Unbuffered and copy-less, transfers are always directly performed from/to the application-level buffers without extra copy operations.</li>
<li>Asynchronous, the API is always non blocking.</li>
<li>Callbacks capable, operations completion and other events are notified using callbacks.</li>
</ul>
<p>Special hardware features like deep hardware buffers, DMA transfers are hidden to the user but fully supportable by the low level implementations.<br  />
 This driver model is best used where communication events are meant to drive an higher level state machine, as example:</p><ul>
<li>RS485 drivers.</li>
<li>Multipoint network drivers.</li>
<li>Serial protocol decoders.</li>
</ul>
<p>If your application requires a synchronous buffered driver then the <a class="el" href="group___s_e_r_i_a_l.html">Serial Driver</a> should be used instead. </p><dl class="section pre"><dt>Precondition</dt><dd>In order to use the UART driver the <code>HAL_USE_UART</code> option must be enabled in <code>halconf.h</code>.</dd></dl>
<h1><a class="anchor" id="uart_1"></a>
Driver State Machine</h1>
<p>The driver implements a state machine internally, not all the driver functionalities can be used in any moment, any transition not explicitly shown in the following diagram has to be considered an error and shall be captured by an assertion (if enabled). </p><div class="dotgraph">
<img src="dot_inline_dotgraph_13.png" alt="dot_inline_dotgraph_13.png" border="0" usemap="#dot_inline_dotgraph_13.map"/>
</div>
<h2><a class="anchor" id="uart_1_1"></a>
Transmitter sub State Machine</h2>
<p>The follow diagram describes the transmitter state machine, this diagram is valid while the driver is in the <code>UART_READY</code> state. This state machine is automatically reset to the <code>TX_IDLE</code> state each time the driver enters the <code>UART_READY</code> state. </p><div class="dotgraph">
<img src="dot_inline_dotgraph_14.png" alt="dot_inline_dotgraph_14.png" border="0" usemap="#dot_inline_dotgraph_14.map"/>
</div>
<h2><a class="anchor" id="uart_1_2"></a>
Receiver sub State Machine</h2>
<p>The follow diagram describes the receiver state machine, this diagram is valid while the driver is in the <code>UART_READY</code> state. This state machine is automatically reset to the <code>RX_IDLE</code> state each time the driver enters the <code>UART_READY</code> state. </p><div class="dotgraph">
<img src="dot_inline_dotgraph_15.png" alt="dot_inline_dotgraph_15.png" border="0" usemap="#dot_inline_dotgraph_15.map"/>
</div>
 </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
